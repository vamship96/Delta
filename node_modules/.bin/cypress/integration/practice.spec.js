
describe('Test Automation Task', () => {
  it('test case', () => {
	  
	cy.viewport(1280,720)  
	  
    cy.visit('https://testnet.delta.exchange/app/login')
	
	Cypress.on('uncaught:exception', (err, runnable) => {
	  return false
	})
	  //login steps
	  cy.get("[type='email']").type('xyzupe@dropjar.com')
	  
	  cy.get("[type='password']").type('Delta@123')
	  
	  cy.get(".sc-gZMcBi.sc-emmjRN.kIYJQt").click()
	  
	  cy.wait(60000)
	  
	  cy.visit('https://testnet.delta.exchange/app/futures/trade/BTC/BTCUSD')
	  
	  
	  //get the price value from table and type in the price field
	  cy.get('.sc-jzgbtB.dUnatG tr:last-child td:first-child span').then(($xyx) => {

		  const txt = $xyx.text()
			
		  cy.get(".sc-htoDjs.fRisjb.limitprice_limit-price__3bzem").type(txt,{ force: true })
	  
	  })
	  
	  //entering quantity
	  cy.get(".sc-bdVaJa.knjQsX.placeorder-input").type('10', {force: true})
	  
	  
	  //to check button is not disabled
	  cy.get('.kQyrEI .buy').should('have.css', 'background-color', 'rgb(85, 185, 135)')
	  
	  cy.get(".btn.placeorder-button .buy").click({ force: true })
	  
	  //asserting the popup message
	  cy.get(".notification-message").should('have.text', 'Buy 10 Contracts of BTCUSD at 37396.0.')
	  
	  
	  //go to open orders once the order is placed
	  cy.get(".tab.open-orders-tab").click({ force: true })
	  
	  //asserting the quantity in open orders
	  cy.get(".sc-gPzReC.gXDBFf.long").should('have.text', '+10')
	  
	  //asserting the price in open orders
	  cy.get(".rt-td:nth-child(8) span span div div").should('have.text', '37396 ')
	  
  })
})
